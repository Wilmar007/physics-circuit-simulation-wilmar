<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Parallel Circuits Mastery Quiz</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      width: 100%;
    }

    body {
      font-family: 'Orbitron', 'Rajdhani', sans-serif;
      background: linear-gradient(135deg, #0a0e27 0%, #1a0b2e 50%, #16213e 100%);
      color: #00f3ff;
      overflow-x: hidden;
      position: relative;
    }

    /* Circuit board background pattern */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
      background-size: 50px 50px;
      pointer-events: none;
      z-index: 0;
      animation: gridSlide 20s linear infinite;
    }

    /* Animated electric orbs */
    body::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 30%, rgba(0, 243, 255, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(255, 238, 0, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(0, 243, 255, 0.1) 0%, transparent 60%);
      pointer-events: none;
      z-index: 0;
      animation: orbFloat 15s ease-in-out infinite;
    }

    /* Animated lightning bolts */
    .lightning {
      position: fixed;
      width: 2px;
      height: 100px;
      background: linear-gradient(180deg, transparent, #00f3ff, transparent);
      box-shadow: 0 0 10px #00f3ff;
      pointer-events: none;
      z-index: 0;
      opacity: 0;
      animation: lightning 3s ease-in-out infinite;
    }

    .lightning:nth-child(1) {
      top: 10%;
      left: 15%;
      animation-delay: 0s;
    }

    .lightning:nth-child(2) {
      top: 60%;
      right: 20%;
      animation-delay: 1s;
    }

    .lightning:nth-child(3) {
      top: 80%;
      left: 70%;
      animation-delay: 2s;
    }

    .lightning:nth-child(4) {
      top: 30%;
      right: 15%;
      animation-delay: 0.5s;
    }

    .lightning:nth-child(5) {
      top: 70%;
      left: 25%;
      animation-delay: 1.5s;
    }

    .lightning:nth-child(6) {
      top: 45%;
      right: 35%;
      animation-delay: 2.5s;
    }

    /* Electric arcs animation */
    .electric-arc {
      animation: arcFlicker 3s ease-in-out infinite;
    }

    .arc-path {
      stroke-dasharray: 300;
      stroke-dashoffset: 300;
      animation: drawArc 4s ease-in-out infinite;
    }

    @keyframes arcFlicker {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.8; }
    }

    @keyframes drawArc {
      0% {
        stroke-dashoffset: 300;
        opacity: 0;
      }
      25% {
        stroke-dashoffset: 0;
        opacity: 1;
      }
      75% {
        stroke-dashoffset: 0;
        opacity: 1;
      }
      100% {
        stroke-dashoffset: -300;
        opacity: 0;
      }
    }

    /* Electric nodes pulse */
    @keyframes pulse-node {
      0%, 100% {
        transform: scale(1);
        opacity: 0.8;
      }
      50% {
        transform: scale(1.5);
        opacity: 1;
      }
    }

    /* Floating particles */
    .particle {
      position: fixed;
      width: 4px;
      height: 4px;
      background: #00f3ff;
      border-radius: 50%;
      pointer-events: none;
      z-index: 0;
      box-shadow: 0 0 10px #00f3ff;
      animation: particleFloat 8s ease-in-out infinite;
    }

    .particle:nth-child(4) {
      top: 20%;
      left: 30%;
      animation-delay: 0s;
    }

    .particle:nth-child(5) {
      top: 50%;
      right: 25%;
      animation-delay: 2s;
    }

    .particle:nth-child(6) {
      top: 70%;
      left: 60%;
      animation-delay: 4s;
      background: #ffee00;
      box-shadow: 0 0 10px #ffee00;
    }

    .particle:nth-child(7) {
      top: 30%;
      right: 40%;
      animation-delay: 6s;
    }

    .particle:nth-child(8) {
      top: 15%;
      left: 50%;
      animation-delay: 1s;
      background: #00f3ff;
      box-shadow: 0 0 10px #00f3ff;
    }

    .particle:nth-child(9) {
      top: 80%;
      right: 15%;
      animation-delay: 3s;
      background: #ffee00;
      box-shadow: 0 0 10px #ffee00;
    }

    .particle:nth-child(10) {
      top: 40%;
      left: 10%;
      animation-delay: 5s;
      background: #00f3ff;
      box-shadow: 0 0 10px #00f3ff;
    }

    .particle:nth-child(11) {
      top: 65%;
      right: 45%;
      animation-delay: 7s;
      background: #ffee00;
      box-shadow: 0 0 10px #ffee00;
    }

    .quiz-wrapper {
      width: 100%;
      height: 100%;
      overflow-auto;
      position: relative;
      z-index: 1;
    }

    .quiz-container {
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    .quiz-header {
      text-align: center;
      margin-bottom: 40px;
      animation: slideDown 0.8s ease-out;
    }

    .quiz-title {
      font-size: 48px;
      font-weight: 700;
      background: linear-gradient(90deg, #00f3ff, #ffee00, #00f3ff);
      background-size: 200% auto;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: shimmer 3s linear infinite;
      margin-bottom: 10px;
      text-shadow: 0 0 30px rgba(0, 243, 255, 0.5);
    }

    .quiz-subtitle {
      font-size: 18px;
      color: #ffee00;
      text-transform: uppercase;
      letter-spacing: 3px;
    }

    /* Student Info Form */
    .student-info-form {
      background: rgba(10, 14, 39, 0.9);
      border: 2px solid #00f3ff;
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 0 30px rgba(0, 243, 255, 0.4);
      animation: slideIn 0.6s ease-out;
    }

    .form-title {
      font-size: 24px;
      color: #ffee00;
      margin-bottom: 25px;
      text-align: center;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-label {
      display: block;
      color: #00f3ff;
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .form-input, .form-select {
      width: 100%;
      background: rgba(0, 0, 0, 0.6);
      border: 2px solid #00f3ff;
      border-radius: 10px;
      padding: 15px 20px;
      font-size: 18px;
      color: #ffffff;
      font-family: 'Orbitron', sans-serif;
      transition: all 0.3s ease;
    }

    .form-input:focus, .form-select:focus {
      outline: none;
      border-color: #ffee00;
      box-shadow: 0 0 20px rgba(255, 238, 0, 0.5);
    }

    .form-select {
      cursor: pointer;
    }

    .form-select option {
      background: #0a0e27;
      color: #ffffff;
    }

    .start-quiz-btn {
      width: 100%;
      background: linear-gradient(135deg, #00f3ff, #0088ff);
      border: none;
      border-radius: 12px;
      padding: 18px 40px;
      font-size: 22px;
      font-weight: 700;
      color: #000;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 2px;
      box-shadow: 0 0 30px rgba(0, 243, 255, 0.5);
      font-family: 'Orbitron', sans-serif;
      margin-top: 10px;
    }

    .start-quiz-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 40px rgba(0, 243, 255, 0.8);
    }

    .start-quiz-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: scale(1);
    }

    .quiz-content {
      display: none;
    }

    .quiz-content.active {
      display: block;
    }

    /* Progress bar */
    .progress-container {
      background: rgba(0, 0, 0, 0.5);
      border: 2px solid #00f3ff;
      border-radius: 20px;
      padding: 15px;
      margin-bottom: 30px;
      box-shadow: 0 0 20px rgba(0, 243, 255, 0.3);
    }

    .progress-info {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-size: 14px;
      color: #ffee00;
    }

    .progress-bar-bg {
      background: rgba(0, 0, 0, 0.7);
      border-radius: 10px;
      height: 20px;
      overflow: hidden;
      position: relative;
    }

    .progress-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, #00f3ff, #ffee00);
      border-radius: 10px;
      transition: width 0.5s ease;
      box-shadow: 0 0 20px rgba(0, 243, 255, 0.8);
      position: relative;
    }

    .progress-bar-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      animation: pulse 2s infinite;
    }

    /* Question card */
    .question-card {
      background: rgba(10, 14, 39, 0.9);
      border: 2px solid #00f3ff;
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 0 30px rgba(0, 243, 255, 0.4);
      animation: slideIn 0.6s ease-out;
      position: relative;
      overflow: hidden;
    }

    .question-card::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #00f3ff, #ffee00, #00f3ff);
      border-radius: 20px;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .question-card:hover::before {
      opacity: 0.3;
    }

    .question-number {
      color: #ffee00;
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 15px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .question-text {
      font-size: 22px;
      color: #ffffff;
      margin-bottom: 25px;
      line-height: 1.6;
    }

    .equation-display {
      background: rgba(0, 0, 0, 0.5);
      border-left: 4px solid #ffee00;
      padding: 15px 20px;
      margin: 15px 0;
      font-size: 20px;
      color: #00f3ff;
      font-family: 'Courier New', monospace;
      border-radius: 5px;
    }

    /* Answer choices */
    .choices {
      display: grid;
      gap: 15px;
    }

    .choice-btn {
      background: rgba(0, 0, 0, 0.6);
      border: 2px solid #00f3ff;
      border-radius: 12px;
      padding: 18px 25px;
      font-size: 18px;
      color: #ffffff;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: left;
      position: relative;
      overflow: hidden;
      font-family: 'Orbitron', sans-serif;
    }

    .choice-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 243, 255, 0.3), transparent);
      transition: left 0.5s;
    }

    .choice-btn:hover {
      background: rgba(0, 243, 255, 0.2);
      border-color: #ffee00;
      transform: translateX(5px);
      box-shadow: 0 0 25px rgba(0, 243, 255, 0.6);
    }

    .choice-btn:hover::before {
      left: 100%;
    }

    .choice-btn.selected {
      background: rgba(255, 238, 0, 0.2);
      border-color: #ffee00;
      box-shadow: 0 0 30px rgba(255, 238, 0, 0.5);
    }

    .choice-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Navigation buttons */
    .nav-buttons {
      display: flex;
      gap: 15px;
      margin-top: 20px;
    }

    .nav-btn {
      background: linear-gradient(135deg, #1a1a3e, #2a2a5e);
      border: 2px solid #00f3ff;
      border-radius: 12px;
      padding: 15px 30px;
      font-size: 18px;
      font-weight: 600;
      color: #00f3ff;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      box-shadow: 0 0 20px rgba(0, 243, 255, 0.3);
      font-family: 'Orbitron', sans-serif;
      flex: 1;
    }

    .nav-btn:hover:not(:disabled) {
      background: linear-gradient(135deg, #00f3ff, #0088ff);
      color: #000;
      transform: translateY(-2px);
      box-shadow: 0 0 30px rgba(0, 243, 255, 0.6);
    }

    .nav-btn:disabled {
      opacity: 0.3;
      cursor: not-allowed;
      border-color: #555;
      color: #555;
      box-shadow: none;
    }

    /* Submit button */
    .submit-btn {
      background: linear-gradient(135deg, #00f3ff, #0088ff);
      border: none;
      border-radius: 12px;
      padding: 18px 40px;
      font-size: 20px;
      font-weight: 700;
      color: #000;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 2px;
      box-shadow: 0 0 30px rgba(0, 243, 255, 0.5);
      font-family: 'Orbitron', sans-serif;
      width: 100%;
      margin-top: 20px;
    }

    .submit-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 40px rgba(0, 243, 255, 0.8);
    }

    .submit-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: scale(1);
    }

    /* Status message */
    .status-message {
      background: rgba(255, 238, 0, 0.2);
      border: 2px solid #ffee00;
      border-radius: 12px;
      padding: 15px;
      margin-top: 20px;
      text-align: center;
      font-size: 18px;
      color: #ffee00;
      animation: fadeIn 0.5s ease-out;
    }

    /* Result modal */
    .result-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      animation: fadeIn 0.5s ease-out;
      padding: 20px;
      overflow: hidden;
    }

    /* Passed background */
    .result-modal.passed {
      background: radial-gradient(circle at center, #0a0e27 0%, #001a33 100%);
    }

    /* Failed background */
    .result-modal.failed {
      background: radial-gradient(circle at center, #1a0a0a 0%, #0a0a0a 100%);
    }

    /* Electric explosion particles for PASS */
    .explosion-particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: #00f3ff;
      border-radius: 50%;
      box-shadow: 0 0 20px #00f3ff;
      animation: explode 2s ease-out forwards;
    }

    .explosion-particle.yellow {
      background: #ffee00;
      box-shadow: 0 0 20px #ffee00;
    }

    /* Lightning bolts for PASS */
    .result-lightning {
      position: absolute;
      width: 3px;
      background: linear-gradient(180deg, transparent, #00f3ff, #ffee00, transparent);
      box-shadow: 0 0 15px #00f3ff;
      animation: resultLightning 1.5s ease-in-out infinite;
    }

    /* Dimmed circuit for FAIL */
    .fail-circuit {
      position: absolute;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(255, 0, 0, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 0, 0, 0.05) 1px, transparent 1px);
      background-size: 40px 40px;
      animation: fadeOut 2s ease-out forwards;
      pointer-events: none;
    }

    .result-content {
      background: rgba(10, 14, 39, 0.95);
      border: 4px solid #00f3ff;
      border-radius: 30px;
      padding: 60px 50px;
      max-width: 700px;
      width: 100%;
      text-align: center;
      box-shadow: 0 0 80px rgba(0, 243, 255, 0.8);
      animation: popIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      position: relative;
      z-index: 10;
    }

    .result-content.failed {
      border-color: #ff3333;
      box-shadow: 0 0 60px rgba(255, 51, 51, 0.5);
    }

    .result-content::before {
      content: '';
      position: absolute;
      top: -4px;
      left: -4px;
      right: -4px;
      bottom: -4px;
      border-radius: 30px;
      background: linear-gradient(45deg, #00f3ff, #ffee00, #00f3ff, #ffee00);
      background-size: 400% 400%;
      z-index: -1;
      animation: gradientShift 3s ease infinite;
      opacity: 0.6;
    }

    .result-content.failed::before {
      background: linear-gradient(45deg, #ff3333, #660000, #ff3333);
      animation: none;
    }

    .result-status {
      font-size: 72px;
      font-weight: 900;
      margin-bottom: 20px;
      text-transform: uppercase;
      letter-spacing: 4px;
      line-height: 1.2;
    }

    .result-status.passed {
      background: linear-gradient(135deg, #00f3ff 0%, #ffee00 50%, #00ff00 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: textGlow 1.5s ease-in-out infinite, pulse 2s ease-in-out infinite;
      text-shadow: 0 0 40px rgba(0, 243, 255, 0.8);
    }

    .result-status.failed {
      color: #ff3333;
      animation: flicker 2s ease-in-out infinite;
      text-shadow: 0 0 30px rgba(255, 51, 51, 0.6);
    }

    .result-icon {
      font-size: 100px;
      margin-bottom: 20px;
      display: inline-block;
    }

    .result-icon.passed {
      animation: spin 2s ease-in-out infinite, bounce 1s ease infinite;
    }

    .result-icon.failed {
      animation: shake 0.5s ease-in-out infinite;
      opacity: 0.7;
    }

    .result-score {
      font-size: 56px;
      color: #ffffff;
      margin: 25px 0;
      font-weight: 700;
      text-shadow: 0 0 20px rgba(0, 243, 255, 0.5);
    }

    .result-score.passed {
      color: #00ff00;
      text-shadow: 0 0 30px rgba(0, 255, 0, 0.8);
    }

    .result-score.failed {
      color: #ff6666;
      text-shadow: 0 0 20px rgba(255, 51, 51, 0.6);
    }

    .result-percentage {
      font-size: 40px;
      color: #ffee00;
      font-weight: 700;
      margin-bottom: 25px;
    }

    .result-message {
      font-size: 22px;
      color: #ffffff;
      margin-bottom: 40px;
      line-height: 1.8;
      padding: 0 20px;
    }

    .result-buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .result-btn {
      border: none;
      border-radius: 15px;
      padding: 20px 45px;
      font-size: 20px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 2px;
      font-family: 'Orbitron', sans-serif;
      min-width: 200px;
    }

    .retry-btn {
      background: linear-gradient(135deg, #ffee00, #ff8800);
      color: #000;
      box-shadow: 0 0 30px rgba(255, 238, 0, 0.5);
    }

    .retry-btn:hover {
      transform: scale(1.08);
      box-shadow: 0 0 50px rgba(255, 238, 0, 0.9);
    }

    .exit-btn {
      background: linear-gradient(135deg, #00f3ff, #0088ff);
      color: #000;
      box-shadow: 0 0 30px rgba(0, 243, 255, 0.5);
    }

    .exit-btn:hover {
      transform: scale(1.08);
      box-shadow: 0 0 50px rgba(0, 243, 255, 0.9);
    }

    .result-divider {
      width: 60%;
      height: 2px;
      background: linear-gradient(90deg, transparent, #00f3ff, transparent);
      margin: 30px auto;
    }

    /* Animations */
    @keyframes shimmer {
      0% { background-position: 0% center; }
      100% { background-position: 200% center; }
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(-50px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes popIn {
      0% {
        opacity: 0;
        transform: scale(0.5);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes pulse {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    @keyframes gridSlide {
      0% { background-position: 0 0; }
      100% { background-position: 50px 50px; }
    }

    @keyframes orbFloat {
      0%, 100% {
        background: 
          radial-gradient(circle at 20% 30%, rgba(0, 243, 255, 0.15) 0%, transparent 50%),
          radial-gradient(circle at 80% 70%, rgba(255, 238, 0, 0.15) 0%, transparent 50%),
          radial-gradient(circle at 50% 50%, rgba(0, 243, 255, 0.1) 0%, transparent 60%);
      }
      50% {
        background: 
          radial-gradient(circle at 80% 70%, rgba(0, 243, 255, 0.15) 0%, transparent 50%),
          radial-gradient(circle at 20% 30%, rgba(255, 238, 0, 0.15) 0%, transparent 50%),
          radial-gradient(circle at 60% 40%, rgba(0, 243, 255, 0.1) 0%, transparent 60%);
      }
    }

    @keyframes lightning {
      0%, 90%, 100% { opacity: 0; }
      92%, 94%, 96% { opacity: 1; }
      93%, 95% { opacity: 0.3; }
    }

    @keyframes particleFloat {
      0%, 100% {
        transform: translate(0, 0) scale(1);
        opacity: 0.6;
      }
      25% {
        transform: translate(30px, -40px) scale(1.2);
        opacity: 1;
      }
      50% {
        transform: translate(-20px, -80px) scale(0.8);
        opacity: 0.4;
      }
      75% {
        transform: translate(40px, -120px) scale(1.1);
        opacity: 0.9;
      }
    }

    @keyframes explode {
      0% {
        transform: translate(0, 0) scale(1);
        opacity: 1;
      }
      100% {
        transform: translate(var(--tx), var(--ty)) scale(0);
        opacity: 0;
      }
    }

    @keyframes resultLightning {
      0%, 100% {
        opacity: 0;
        height: 100px;
      }
      10%, 30%, 50% {
        opacity: 1;
        height: 150px;
      }
      20%, 40%, 60% {
        opacity: 0.3;
        height: 120px;
      }
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes textGlow {
      0%, 100% {
        filter: brightness(1) drop-shadow(0 0 20px rgba(0, 243, 255, 0.6));
      }
      50% {
        filter: brightness(1.3) drop-shadow(0 0 40px rgba(255, 238, 0, 0.8));
      }
    }

    @keyframes flicker {
      0%, 100% { opacity: 1; }
      25% { opacity: 0.7; }
      50% { opacity: 1; }
      75% { opacity: 0.8; }
    }

    @keyframes spin {
      0% { transform: rotate(0deg) scale(1); }
      25% { transform: rotate(90deg) scale(1.1); }
      50% { transform: rotate(180deg) scale(1); }
      75% { transform: rotate(270deg) scale(1.1); }
      100% { transform: rotate(360deg) scale(1); }
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }

    @keyframes fadeOut {
      0% { opacity: 1; }
      100% { opacity: 0.2; }
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .quiz-title {
        font-size: 32px;
      }

      .quiz-subtitle {
        font-size: 14px;
      }

      .question-text {
        font-size: 18px;
      }

      .choice-btn {
        font-size: 16px;
        padding: 15px 20px;
      }

      .result-content {
        padding: 30px 20px;
      }

      .result-title {
        font-size: 28px;
      }

      .result-score {
        font-size: 36px;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="lightning"></div>
  <div class="lightning"></div>
  <div class="lightning"></div>
  <div class="lightning"></div>
  <div class="lightning"></div>
  <div class="lightning"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div><!-- Electric arcs -->
  <svg class="electric-arc" style="position: fixed; top: 10%; left: 5%; width: 200px; height: 200px; pointer-events: none; z-index: 0; opacity: 0.6;"><path class="arc-path" d="M 10 100 Q 50 50, 100 100 T 190 100" stroke="#00f3ff" stroke-width="2" fill="none" filter="url(#glow)" /> <defs>
    <filter id="glow">
     <fegaussianblur stddeviation="3" result="coloredBlur" />
     <femerge>
      <femergenode in="coloredBlur" />
      <femergenode in="SourceGraphic" />
     </femerge>
    </filter>
   </defs>
  </svg>
  <svg class="electric-arc" style="position: fixed; top: 50%; right: 10%; width: 150px; height: 150px; pointer-events: none; z-index: 0; opacity: 0.5;"><path class="arc-path" d="M 10 75 Q 40 20, 75 75 T 140 75" stroke="#ffee00" stroke-width="2" fill="none" filter="url(#glow2)" /> <defs>
    <filter id="glow2">
     <fegaussianblur stddeviation="3" result="coloredBlur" />
     <femerge>
      <femergenode in="coloredBlur" />
      <femergenode in="SourceGraphic" />
     </femerge>
    </filter>
   </defs>
  </svg>
  <svg class="electric-arc" style="position: fixed; bottom: 15%; left: 15%; width: 180px; height: 180px; pointer-events: none; z-index: 0; opacity: 0.5;"><path class="arc-path" d="M 20 90 Q 60 30, 90 90 T 160 90" stroke="#00f3ff" stroke-width="2" fill="none" filter="url(#glow3)" /> <defs>
    <filter id="glow3">
     <fegaussianblur stddeviation="3" result="coloredBlur" />
     <femerge>
      <femergenode in="coloredBlur" />
      <femergenode in="SourceGraphic" />
     </femerge>
    </filter>
   </defs>
  </svg><!-- Electric nodes -->
  <div class="electric-node" style="position: fixed; top: 20%; left: 25%; width: 8px; height: 8px; background: #00f3ff; border-radius: 50%; pointer-events: none; z-index: 0; box-shadow: 0 0 20px #00f3ff, 0 0 40px #00f3ff; animation: pulse-node 2s ease-in-out infinite;"></div>
  <div class="electric-node" style="position: fixed; top: 60%; right: 30%; width: 6px; height: 6px; background: #ffee00; border-radius: 50%; pointer-events: none; z-index: 0; box-shadow: 0 0 20px #ffee00, 0 0 40px #ffee00; animation: pulse-node 2s ease-in-out infinite 0.5s;"></div>
  <div class="electric-node" style="position: fixed; bottom: 25%; left: 40%; width: 7px; height: 7px; background: #00f3ff; border-radius: 50%; pointer-events: none; z-index: 0; box-shadow: 0 0 20px #00f3ff, 0 0 40px #00f3ff; animation: pulse-node 2s ease-in-out infinite 1s;"></div>
  <div class="electric-node" style="position: fixed; top: 40%; right: 20%; width: 8px; height: 8px; background: #ffee00; border-radius: 50%; pointer-events: none; z-index: 0; box-shadow: 0 0 20px #ffee00, 0 0 40px #ffee00; animation: pulse-node 2s ease-in-out infinite 1.5s;"></div>
  <div class="quiz-wrapper">
   <div class="quiz-container">
    <div class="quiz-header">
     <h1 class="quiz-title" id="quiz-title">‚ö° Parallel Circuits Mastery Quiz</h1>
     <p class="quiz-subtitle">Senior High School Physics</p>
    </div><!-- Student Info Form -->
    <div class="student-info-form" id="student-form">
     <h2 class="form-title">‚ö° Student Information</h2>
     <form id="info-form" onsubmit="startQuiz(event)">
      <div class="form-group"><label for="student-name" class="form-label">Full Name:</label> <input type="text" id="student-name" class="form-input" placeholder="Enter your full name" required>
      </div>
      <div class="form-group"><label for="student-section" class="form-label">Section:</label> <select id="student-section" class="form-select" required> <option value="">-- Select Your Section --</option> <option value="STEM 201">STEM 201</option> <option value="STEM 202">STEM 202</option> <option value="STEM 203">STEM 203</option> <option value="STEM 204">STEM 204</option> <option value="STEM 205">STEM 205</option> <option value="STEM 206">STEM 206</option> <option value="STEM 207">STEM 207</option> </select>
      </div><button type="submit" class="start-quiz-btn">‚ö° Start Quiz</button>
     </form>
    </div>
    <div class="quiz-content" id="quiz-content">
     <div class="progress-container">
      <div class="progress-info"><span id="progress-text">Question 1 of 15</span> <span id="score-display" style="display: none;">Score: 0/15</span>
      </div>
      <div class="progress-bar-bg">
       <div class="progress-bar-fill" id="progress-bar" style="width: 6.67%"></div>
      </div>
     </div>
     <div class="question-card" id="question-card">
      <div class="question-number" id="question-number">
       Question 1
      </div>
      <div class="question-text" id="question-text"></div>
      <div class="choices" id="choices"></div><button class="submit-btn" id="submit-btn" disabled>Submit Answer</button>
      <div class="nav-buttons"><button class="nav-btn" id="prev-btn" onclick="previousQuestion()">‚¨Ö Previous</button> <button class="nav-btn" id="next-btn" onclick="nextQuestion()">Next ‚û°</button>
      </div><button class="submit-btn" id="finish-btn" onclick="finishQuiz()" style="display: none; background: linear-gradient(135deg, #ffee00, #ff8800); margin-top: 15px;">üèÅ Finish Quiz</button>
      <div id="status-message"></div>
     </div>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      quiz_title: "‚ö° Parallel Circuits Mastery Quiz",
      passing_message: "üéâ Congratulations! You passed the Parallel Circuits Quiz!",
      failing_message: "‚ùå You did not reach the passing score. Please review and try again."
    };

    const quizData = [
      {
        question: "In a parallel circuit, what is true about the voltage across each branch?",
        choices: [
          "A. The voltage is divided among branches",
          "B. The voltage is the same across all branches",
          "C. The voltage increases with more branches",
          "D. The voltage decreases with more branches"
        ],
        correct: 1
      },
      {
        question: "Three resistors (R‚ÇÅ = 6Œ©, R‚ÇÇ = 3Œ©, R‚ÇÉ = 2Œ©) are connected in parallel to a 12V battery. What is the total current from the battery?",
        equation: "I‚Çú = I‚ÇÅ + I‚ÇÇ + I‚ÇÉ",
        choices: [
          "A. 2A",
          "B. 11A",
          "C. 6A",
          "D. 12A"
        ],
        correct: 1
      },
      {
        question: "What happens to the total resistance when more resistors are added in parallel?",
        choices: [
          "A. Total resistance increases",
          "B. Total resistance decreases",
          "C. Total resistance stays the same",
          "D. Total resistance becomes infinite"
        ],
        correct: 1
      },
      {
        question: "Two resistors of 4Œ© and 12Œ© are connected in parallel. What is the equivalent resistance?",
        equation: "1/R‚Çú = 1/R‚ÇÅ + 1/R‚ÇÇ",
        choices: [
          "A. 16Œ©",
          "B. 8Œ©",
          "C. 3Œ©",
          "D. 6Œ©"
        ],
        correct: 2
      },
      {
        question: "In your home electrical system, appliances are connected in parallel. If one appliance stops working, what happens to the others?",
        choices: [
          "A. All appliances stop working",
          "B. Other appliances continue working normally",
          "C. Other appliances work at reduced power",
          "D. The circuit breaker trips"
        ],
        correct: 1
      },
      {
        question: "A parallel circuit has three identical 6Œ© resistors connected to a 18V source. What is the current through each resistor?",
        equation: "I = V / R",
        choices: [
          "A. 1A",
          "B. 2A",
          "C. 3A",
          "D. 6A"
        ],
        correct: 2
      },
      {
        question: "What is the total current in a parallel circuit with two branches: one drawing 2A and another drawing 3A?",
        choices: [
          "A. 1A",
          "B. 5A",
          "C. 6A",
          "D. 2.5A"
        ],
        correct: 1
      },
      {
        question: "Modern Christmas lights are wired in parallel. What is the advantage of this configuration?",
        choices: [
          "A. Uses less power",
          "B. Brighter lights",
          "C. If one bulb burns out, others stay lit",
          "D. Easier to install"
        ],
        correct: 2
      },
      {
        question: "Three resistors (10Œ©, 15Œ©, and 30Œ©) are connected in parallel across a 30V battery. What is the total resistance?",
        equation: "1/R‚Çú = 1/R‚ÇÅ + 1/R‚ÇÇ + 1/R‚ÇÉ",
        choices: [
          "A. 55Œ©",
          "B. 5Œ©",
          "C. 10Œ©",
          "D. 15Œ©"
        ],
        correct: 1
      },
      {
        question: "If a 12V battery is connected to a parallel circuit with branches drawing 2A, 3A, and 5A, what is the total power consumed?",
        equation: "P = V √ó I",
        choices: [
          "A. 60W",
          "B. 120W",
          "C. 240W",
          "D. 36W"
        ],
        correct: 1
      },
      {
        question: "In a household circuit with parallel-connected outlets, if the voltage is 120V and a toaster draws 10A, what is its resistance?",
        equation: "R = V / I",
        choices: [
          "A. 1200Œ©",
          "B. 12Œ©",
          "C. 110Œ©",
          "D. 130Œ©"
        ],
        correct: 1
      },
      {
        question: "What is the main advantage of parallel circuits over series circuits in home wiring?",
        choices: [
          "A. Lower voltage",
          "B. Each device receives full voltage independently",
          "C. Uses less wire",
          "D. Prevents short circuits"
        ],
        correct: 1
      },
      {
        question: "Two resistors (8Œ© and 24Œ©) are in parallel with a 24V source. What is the current through the 8Œ© resistor?",
        equation: "I = V / R",
        choices: [
          "A. 1A",
          "B. 2A",
          "C. 3A",
          "D. 4A"
        ],
        correct: 2
      },
      {
        question: "In a parallel circuit, if one branch has very low resistance compared to others, what happens to the total current?",
        choices: [
          "A. Total current decreases",
          "B. Total current increases significantly",
          "C. Total current remains unchanged",
          "D. Circuit stops functioning"
        ],
        correct: 1
      },
      {
        question: "Four identical 20Œ© resistors are connected in parallel. What is the equivalent resistance?",
        equation: "R‚Çú = R / n (for identical resistors)",
        choices: [
          "A. 80Œ©",
          "B. 5Œ©",
          "C. 10Œ©",
          "D. 20Œ©"
        ],
        correct: 1
      }
    ];

    let currentQuestion = 0;
    let selectedAnswer = null;
    let score = 0;
    let userAnswers = [];
    let studentName = '';
    let studentSection = '';
    let shuffledQuizData = [];

    // Shuffle function
    function shuffleArray(array) {
      const shuffled = [...array];
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      return shuffled;
    }

    // Start quiz function
    function startQuiz(event) {
      event.preventDefault();
      
      studentName = document.getElementById('student-name').value.trim();
      studentSection = document.getElementById('student-section').value;
      
      if (!studentName || !studentSection) {
        return;
      }
      
      // Shuffle questions
      shuffledQuizData = shuffleArray(quizData).map(question => ({
        ...question,
        choices: shuffleArray(question.choices),
        correct: question.choices.indexOf(question.choices[question.correct])
      }));
      
      // Find new correct index after shuffling
      shuffledQuizData = shuffledQuizData.map(question => {
        const originalCorrectChoice = quizData.find(q => q.question === question.question).choices[quizData.find(q => q.question === question.question).correct];
        const newCorrectIndex = question.choices.indexOf(originalCorrectChoice);
        return {
          ...question,
          correct: newCorrectIndex
        };
      });
      
      // Hide form and show quiz
      document.getElementById('student-form').style.display = 'none';
      document.getElementById('quiz-content').classList.add('active');
      
      renderQuestion();
    }

    function renderQuestion() {
      const question = shuffledQuizData[currentQuestion];
      const questionCard = document.getElementById('question-card');
      
      questionCard.style.animation = 'none';
      setTimeout(() => {
        questionCard.style.animation = 'slideIn 0.6s ease-out';
      }, 10);

      document.getElementById('question-number').textContent = `Question ${currentQuestion + 1}`;
      
      let questionHTML = `<p>${question.question}</p>`;
      if (question.equation) {
        questionHTML += `<div class="equation-display">${question.equation}</div>`;
      }
      document.getElementById('question-text').innerHTML = questionHTML;

      const choicesContainer = document.getElementById('choices');
      choicesContainer.innerHTML = '';
      
      question.choices.forEach((choice, index) => {
        const button = document.createElement('button');
        button.className = 'choice-btn';
        button.textContent = choice;
        button.onclick = () => selectAnswer(index);
        choicesContainer.appendChild(button);
      });

      document.getElementById('progress-text').textContent = `Question ${currentQuestion + 1} of 15`;
      const progressPercent = ((currentQuestion + 1) / 15) * 100;
      document.getElementById('progress-bar').style.width = `${progressPercent}%`;
      
      // Update navigation buttons
      document.getElementById('prev-btn').disabled = currentQuestion === 0;
      document.getElementById('next-btn').disabled = currentQuestion === shuffledQuizData.length - 1 || userAnswers[currentQuestion] === undefined;
      
      // Show finish button if on last question and all questions answered
      const allAnswered = userAnswers.filter(a => a !== undefined).length === shuffledQuizData.length;
      const finishBtn = document.getElementById('finish-btn');
      if (currentQuestion === shuffledQuizData.length - 1 && allAnswered) {
        finishBtn.style.display = 'block';
      } else {
        finishBtn.style.display = 'none';
      }
      
      // Restore previously selected answer if any
      if (userAnswers[currentQuestion] !== undefined) {
        selectedAnswer = userAnswers[currentQuestion];
        const buttons = document.querySelectorAll('.choice-btn');
        buttons.forEach((btn, i) => {
          btn.classList.toggle('selected', i === selectedAnswer);
        });
        document.getElementById('submit-btn').disabled = false;
      } else {
        document.getElementById('submit-btn').disabled = true;
        selectedAnswer = null;
      }
      
      document.getElementById('status-message').innerHTML = '';
    }

    function previousQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        renderQuestion();
      }
    }

    function nextQuestion() {
      if (currentQuestion < shuffledQuizData.length - 1 && userAnswers[currentQuestion] !== undefined) {
        currentQuestion++;
        renderQuestion();
      }
    }

    function selectAnswer(index) {
      selectedAnswer = index;
      const buttons = document.querySelectorAll('.choice-btn');
      buttons.forEach((btn, i) => {
        btn.classList.toggle('selected', i === index);
      });
      document.getElementById('submit-btn').disabled = false;
    }

    function submitAnswer() {
      if (selectedAnswer === null) return;

      // Check if already answered
      if (userAnswers[currentQuestion] !== undefined) {
        // Update existing answer
        const oldAnswer = userAnswers[currentQuestion];
        const oldIsCorrect = oldAnswer === shuffledQuizData[currentQuestion].correct;
        const newIsCorrect = selectedAnswer === shuffledQuizData[currentQuestion].correct;
        
        if (oldIsCorrect && !newIsCorrect) {
          score--;
        } else if (!oldIsCorrect && newIsCorrect) {
          score++;
        }
        
        userAnswers[currentQuestion] = selectedAnswer;
      } else {
        // New answer
        const question = shuffledQuizData[currentQuestion];
        const isCorrect = selectedAnswer === question.correct;
        
        if (isCorrect) {
          score++;
        }

        userAnswers[currentQuestion] = selectedAnswer;
      }

      document.getElementById('status-message').innerHTML = 
        '<div class="status-message">‚úì Answer Submitted</div>';
      
      document.getElementById('score-display').textContent = `Score: ${score}/15`;
      
      // Enable next button after submission
      if (currentQuestion < shuffledQuizData.length - 1) {
        document.getElementById('next-btn').disabled = false;
      }

      // Show finish button if on last question and all questions now answered
      const allAnswered = userAnswers.filter(a => a !== undefined).length === shuffledQuizData.length;
      const finishBtn = document.getElementById('finish-btn');
      if (currentQuestion === shuffledQuizData.length - 1 && allAnswered) {
        finishBtn.style.display = 'block';
      }

      setTimeout(() => {
        document.getElementById('status-message').innerHTML = '';
      }, 1500);
    }

    function finishQuiz() {
      // Check if all questions are answered
      const allAnswered = userAnswers.filter(a => a !== undefined).length === shuffledQuizData.length;
      if (!allAnswered) {
        document.getElementById('status-message').innerHTML = 
          '<div class="status-message">ÔøΩÔøΩÔøΩ Please answer all questions before finishing!</div>';
        return;
      }
      
      // Recalculate score to ensure accuracy
      score = 0;
      userAnswers.forEach((answer, index) => {
        if (answer === shuffledQuizData[index].correct) {
          score++;
        }
      });
      
      showResults();
    }

    function showResults() {
      const percentage = (score / quizData.length) * 100;
      const passed = percentage >= 75;

      const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
      const passingMsg = config.passing_message || defaultConfig.passing_message;
      const failingMsg = config.failing_message || defaultConfig.failing_message;

      const modal = document.createElement('div');
      modal.className = `result-modal ${passed ? 'passed' : 'failed'}`;
      
      let animationElements = '';
      
      if (passed) {
        // Add electric explosion particles
        for (let i = 0; i < 30; i++) {
          const angle = (Math.PI * 2 * i) / 30;
          const distance = 300 + Math.random() * 200;
          const tx = Math.cos(angle) * distance;
          const ty = Math.sin(angle) * distance;
          const delay = Math.random() * 0.5;
          const isYellow = i % 3 === 0;
          animationElements += `<div class="explosion-particle ${isYellow ? 'yellow' : ''}" style="--tx: ${tx}px; --ty: ${ty}px; left: 50%; top: 50%; animation-delay: ${delay}s;"></div>`;
        }
        
        // Add lightning bolts
        for (let i = 0; i < 8; i++) {
          const left = Math.random() * 100;
          const top = Math.random() * 100;
          const height = 100 + Math.random() * 100;
          const delay = Math.random() * 1;
          animationElements += `<div class="result-lightning" style="left: ${left}%; top: ${top}%; height: ${height}px; animation-delay: ${delay}s;"></div>`;
        }
      } else {
        // Add dimmed circuit for fail
        animationElements = '<div class="fail-circuit"></div>';
      }
      
      modal.innerHTML = `
        ${animationElements}
        <div class="result-content ${passed ? 'passed' : 'failed'}">
          <div class="result-icon ${passed ? 'passed' : 'failed'}">${passed ? 'üéâ' : '‚ùå'}</div>
          <div class="result-status ${passed ? 'passed' : 'failed'}">
            ${passed ? 'YOU PASSED!' : 'YOU DID NOT PASS'}
          </div>
          <div class="result-divider"></div>
          <div style="color: #00f3ff; font-size: 20px; margin-bottom: 10px;">
            <strong>Student:</strong> ${studentName}
          </div>
          <div style="color: #ffee00; font-size: 18px; margin-bottom: 20px;">
            <strong>Section:</strong> ${studentSection}
          </div>
          <div class="result-divider"></div>
          <div class="result-score ${passed ? 'passed' : 'failed'}">${score}/15</div>
          <div class="result-percentage">${percentage.toFixed(0)}%</div>
          <p class="result-message">${passed ? passingMsg : failingMsg}</p>
          <div class="result-buttons">
            <button class="result-btn retry-btn" onclick="restartQuiz()">üîÅ Retry Quiz</button>
            <button class="result-btn exit-btn" onclick="exitQuiz()">üö™ Exit</button>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
    }

    function exitQuiz() {
      const modal = document.querySelector('.result-modal');
      if (modal) {
        modal.style.animation = 'fadeOut 0.5s ease-out';
        setTimeout(() => {
          modal.remove();
        }, 500);
      }
    }

    function restartQuiz() {
      currentQuestion = 0;
      score = 0;
      userAnswers = [];
      selectedAnswer = null;
      studentName = '';
      studentSection = '';
      shuffledQuizData = [];
      
      const modal = document.querySelector('.result-modal');
      if (modal) modal.remove();
      
      // Show form again
      document.getElementById('quiz-content').classList.remove('active');
      document.getElementById('student-form').style.display = 'block';
      document.getElementById('info-form').reset();
    }

    document.getElementById('submit-btn').addEventListener('click', submitAnswer);

    async function onConfigChange(config) {
      const titleElement = document.getElementById('quiz-title');
      if (titleElement) {
        titleElement.textContent = config.quiz_title || defaultConfig.quiz_title;
      }
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig: defaultConfig,
        onConfigChange: onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ["quiz_title", config.quiz_title || defaultConfig.quiz_title],
          ["passing_message", config.passing_message || defaultConfig.passing_message],
          ["failing_message", config.failing_message || defaultConfig.failing_message]
        ])
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c5e7ad667380651',t:'MTc2OTc1MDAwNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>